<h1>Menu Item</h1>

<form class="form-horizontal" role="form">
	<div class="form-group">
		<label class="col-sm-2 control-label">Title</label>

		<div class="col-sm-10">
			<input type="text" data-ng-model="menuItem.title" placeholder="Title" class="form-control" />
			<span data-ng-if="errors.title" style="color: red;">{{ printErrors(errors.title) }}</span>
		</div>
	</div>
	<div class="form-group">
		<label class="col-sm-2 control-label">Published</label>

		<div class="col-sm-10">
			<input type="checkbox" data-ng-model="menuItem.published" class="form-control" />
		</div>
	</div>
	<div class="form-group">
		<label class="col-sm-2 control-label">Parent</label>

		<div class="col-sm-10">
			<select data-ng-model="menuItem.parent_id" class="form-control" data-ng-options="menuItem.id as menuItem.title for menuItem in data.menu_items">
				<option value="">-</option>
			</select>
			<span data-ng-if="errors.parent_id" style="color: red;">{{ printErrors(errors.parent_id) }}</span>
		</div>
	</div>
	<div class="form-group">
		<label class="col-sm-2 control-label">Target Type</label>

		<div class="col-sm-10">
			<select data-ng-model="menuItem.target_type" class="form-control">
				<option data-ng-repeat="target in admin.targets" value="{{ target.type }}">{{ target.type }}</option>
			</select>
			<span data-ng-if="errors.target_type" style="color: red;">{{ printErrors(errors.target_type) }}</span>
		</div>
	</div>

	<div>
		<div class="form-group">
			<label class="col-sm-2 control-label">Target Data</label>

			<div class="col-sm-10">
				<% Odania::TargetType.targets.each_pair do |idx, target| %>
					<div data-ng-if="menuItem.target_type == '<%= target[:type] %>'">
						<%= render partial: target[:selector] %>
					</div>
				<% end %>
			</div>
		</div>
	</div>

	<div class="form-group">
		<div class="col-sm-offset-2 col-sm-10">
			<button data-ng-click="saveMenuItem()" class="btn btn-primary"><%= t('general.save') %></button>

			<span data-ng-if="errors" style="color: red;"><%= t('general.Please correct the errors') %></span>
		</div>
	</div>
</form>

<a data-ng-href="#!/menus">Back</a>
